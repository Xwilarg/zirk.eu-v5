let gamejams = [
    {
        "name": "DemainSeraBien",
        "fullName": "Demain Sera Bien",
        "location": "Online",
        "theme": "Delay the inevitable",
        "event": "Ludum Dare 50",
        "date": "2022-04-01",
        "duration": 72,
        "github": "https://github.com/Xwilarg/DemainSeraBien",
        "website": "https://ldjam.com/events/ludum-dare/50/$288628",
        "webgl": [ "https://gamejam.zirk.eu/DemainSeraBien/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": null
    },
    {
        "name": "BarkThemAll",
        "fullName": "Bark Them All",
        "location": "Online",
        "theme": "herd",
        "event": "One Hour Game Jam",
        "date": "2022-03-26",
        "duration": 1,
        "github": "https://github.com/Xwilarg/OneHourJam361",
        "website": "https://onehourgamejam.com/?page=jam&jam=361",
        "webgl": [ "https://gamejam.zirk.eu/BarkThemAll/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": null
    },
    {
        "name": "AcCELLere",
        "fullName": "AcCELLère",
        "location": "Online",
        "theme": null,
        "event": "Scientific Game Jam - Printemps 2022",
        "date": "2022-03-18",
        "duration": 48,
        "github": "https://github.com/Xwilarg/ScientificGameJam",
        "website": "https://itch.io/jam/scientific-game-jam-spring-2022/rate/1448850",
        "webgl": [ "https://gamejam.zirk.eu/AcCELL%C3%A8re/index.html" ],
        "postModification": "Update project to 2021.2 to fix WebGL build crashing",
        "nsfw": false,
        "rating": {
            "entries": 7,
            "scores": null
        }
    },
    {
        "name": "GraphysCrypt",
        "fullName": "Graphy's Crypt",
        "location": "Online",
        "theme": "Mix it up!",
        "event": "GamesPlusJam 2022",
        "date": "2022-03-11",
        "duration": 48,
        "github": "https://github.com/Xwilarg/GraphysCrypt/",
        "website": "https://itch.io/jam/gamesplusjam2022/rate/1440233",
        "webgl": [ "https://gamejam.zirk.eu/GraphysCrypt/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 67,
            "scores": {
                "Visuals": {
                    "rank": 3,
                    "score": 4.353
                },
                "Overall": {
                    "rank": 5,
                    "score": 4.118
                },
                "Gameplay": {
                    "rank": 5,
                    "score": 3.941
                },
                "Audio": {
                    "rank": 13,
                    "score": 3.588
                },
                "Originality": {
                    "rank": 23,
                    "score": 3.529
                }
            }
        }
    },
    {
        "name": "ThereIsNoCloudItsJustSomeoneElsesComputer",
        "fullName": "There is no cloud, it's just someone else's computer",
        "location": "Online",
        "theme": "Clouds",
        "event": "One Hour Game Jam",
        "date": "2022-03-05",
        "duration": 1,
        "github": "https://github.com/Xwilarg/OneHourGameJam358/",
        "website": "https://onehourgamejam.com/?page=jam&jam=358",
        "webgl": [ "https://gamejam.zirk.eu/ThereIsNoCloudItsJustSomeoneElsesComputer/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 4,
            "scores": null
        }
    },
    {
        "name": "Under",
        "fullName": "Under",
        "location": "Online",
        "theme": "Обманчивая простота",
        "event": "Indie Varvar's Jam #1",
        "date": "2022-02-25",
        "duration": 72,
        "github": "https://github.com/Xwilarg/Under",
        "website": "https://itch.io/jam/indie-varvars-jam-1/rate/1421267",
        "webgl": [ "https://gamejam.zirk.eu/Under/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 20,
            "scores": {
                "Соответствие теме": {
                    "rank": 2,
                    "score": 4.091
                },
                "Звук": {
                    "rank": 4,
                    "score": 3.455
                },
                "Идея": {
                    "rank": 4,
                    "score": 4.364
                },
                "Overall": {
                    "rank": 4,
                    "score": 3.782
                },
                "Геймплей": {
                    "rank": 5,
                    "score": 3.636
                },
                "Визуал": {
                    "rank": 8,
                    "score": 3.364
                }
            }
        }
    },
    {
        "name": "NotAllHeroesWearSwords",
        "fullName": "Not All Heroes Wear Swords",
        "location": "Online",
        "theme": "Aux fourneaux !",
        "event": "Game Anatomy Jam",
        "date": "2022-02-18",
        "duration": 56,
        "github": "https://github.com/Xwilarg/Game-Anatomy-Jam",
        "website": "https://itch.io/jam/game-anatomy-jam/rate/1409591",
        "webgl": [ "https://gamejam.zirk.eu/NotAllHeroesWearSwords/index.html", "https://zirk.itch.io/not-all-heroes-wear-swords" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 7,
            "scores": null
        }
    },
    {
        "name": "Catchmeleon",
        "fullName": "Catchmeleon",
        "location": "Online",
        "theme": "Shapes and Colors",
        "event": "One Hour Game Jam",
        "date": "2022-01-29",
        "duration": 1,
        "github": "https://github.com/Xwilarg/OneHourGameJam353",
        "website": "https://onehourgamejam.com/?page=jam&jam=353",
        "webgl": [ "https://gamejam.zirk.eu/Catchmeleon/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 5,
            "scores": null
        }
    },
    {
        "name": "GlobeTrotter",
        "fullName": "GlobeTrotter",
        "location": "Online",
        "theme": "Globe",
        "event": "Bean Jam #23",
        "date": "2022-01-23",
        "duration": 3,
        "github": "https://github.com/Xwilarg/BeanJam23",
        "website": "https://itch.io/jam/bean-jam-23/rate/1365339",
        "webgl": [ "https://gamejam.zirk.eu/GlobeTrotter/index.html", "https://zirk.itch.io/globetrotter" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 5,
            "scores": {
                "Overall": {
                    "rank": 1,
                    "score": 3.257
                },
                "Graphics": {
                    "rank": 1,
                    "score": 3.800
                },
                "Audio": {
                    "rank": 1,
                    "score": 2.400
                },
                "Environment": {
                    "rank": 1,
                    "score": 3.400
                },
                "Fun": {
                    "rank": 2,
                    "score": 3.200
                },
                "Creativity": {
                    "rank": 2,
                    "score": 2.800
                },
                "Playability": {
                    "rank": 2,
                    "score": 3.800
                },
                "Theme Compatibility": {
                    "rank": 2,
                    "score": 3.400
                }
            }
        }
    },
    {
        "name": "Chickens",
        "fullName": "Курятник",
        "location": "Online",
        "theme": "Жестокость",
        "event": "Crystal Gamejam",
        "date": "2022-01-15",
        "duration": 5,
        "github": "https://github.com/Xwilarg/Crystal-Gamejam",
        "website": "https://itch.io/jam/crystal-gamejam/rate/1354761",
        "webgl": [ "https://gamejam.zirk.eu/%D0%9A%D1%83%D1%80%D1%8F%D1%82%D0%BD%D0%B8%D0%BA/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 2,
            "scores": {
                "Theme": {
                    "rank": 1,
                    "score": 5.000
                },
                "Sound": {
                    "rank": 1,
                    "score": 2.000
                },
                "Visual": {
                    "rank": 1,
                    "score": 5.000
                },
                "Gameplay" :{
                    "rank": 1,
                    "score": 5.000
                },
                "Overall": {
                    "rank": 1,
                    "score": 4.250
                }
            }
        }
    },
    {
        "name": "EscapeFromSpace",
        "fullName": "Escape from Space",
        "location": "Online",
        "theme": "Unstable",
        "event": "Ludum Dare 49",
        "date": "2021-10-02",
        "duration": 72,
        "github": "https://github.com/BionomeeX/LudumDare49",
        "website": "https://ldjam.com/events/ludum-dare/49/escape-from-space",
        "webgl": [ "https://gamejam.zirk.eu/EscapeFromSpace/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 2204,
            "scores": {
                "Overall": {
                    "rank": 673,
                    "score": 3.577
                },
                "Fun": {
                    "rank": 958,
                    "score": 3.231
                },
                "Innovation": {
                    "rank": 419,
                    "score": 3.611
                },
                "Theme": {
                    "rank": 948,
                    "score": 3.333
                },
                "Graphics": {
                    "rank": 695,
                    "score": 3.667
                },
                "Mood": {
                    "rank": 196,
                    "score": 3.981
                }
            }
        }
    },
    {
        "name": "TheRollingDices",
        "fullName": "The Rolling Dices - Paint It, Red",
        "location": "Online",
        "theme": "Alea jacta est",
        "event": "TUFRJAM2",
        "date": "2021-04-30",
        "duration": 48,
        "github": "https://github.com/Xwilarg/TUFRJAM2",
        "website": "https://www.jam.tutounity.fr/jeu-details.php?id=140",
        "webgl": [ "https://gamejam.zirk.eu/TheRollingDices/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 59,
            "scores": null
        }
    },
    {
        "name": "Nautilus",
        "fullName": "Nautilus",
        "location": "Online",
        "theme": "Deeper and Deeper",
        "event": "Ludum Dare 48",
        "date": "2021-04-24",
        "duration": 72,
        "github": "https://github.com/BionomeeX/LudumDare48",
        "website": "https://ldjam.com/events/ludum-dare/48/nautilus-1",
        "webgl": [ "https://gamejam.zirk.eu/Nautilus/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 2721,
            "scores": null
        }
    },
    {
        "name": "RRR",
        "fullName": "R.R.R. (Remove Reuse Repair)",
        "location": "Tokyo, Japan",
        "theme": "Repair",
        "event": "Global Game Jam 2020",
        "date": "2020-01-31",
        "duration": 48,
        "github": "https://github.com/TORISOUP/GGJ2020_Akiba_team2",
        "website": "https://globalgamejam.org/2020/games/rrr-remove-reuse-repair-0",
        "webgl": [ "https://unityroom.com/games/ggj2020_akibaha_team2_rrr" ],
        "postModification": null,
        "nsfw": false,
        "rating": null
    },
    {
        "name": "DungeonMaster",
        "fullName": "Dungeon Master",
        "location": "Online",
        "theme": "You are the final boss",
        "event": "42Jam #2",
        "date": "2019-11-30",
        "duration": 48,
        "github": "https://github.com/Xwilarg/42Jam/",
        "website": "https://itch.io/jam/42jam-2/rate/527252",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=dungeonMaster",
            "https://zirk.itch.io/dungeon-master"
        ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 8,
            "scores": {
                "Theme": {
                    "rank": 1,
                    "score": 4.677
                },
                "Innovation": {
                    "rank": 2,
                    "score": 4.000
                },
                "Overall": {
                    "rank": 3,
                    "score": 3.000
                },
                "Fun": {
                    "rank": 3,
                    "score": 3.000
                },
                "Mood": {
                    "rank": 5,
                    "score": 2.333
                },
                "Audio": {
                    "rank": 5,
                    "score": 1.667
                },
                "Graphics": {
                    "rank": 7,
                    "score": 2.000
                }
            }
        }
    },
    {
        "name": "LarryTheSheepsMuseumInvasion",
        "fullName": "Larry: The Sheep\'s Museum Invasion",
        "location": "Online",
        "theme": "Starry Night",
        "event": "Paint Jam",
        "date": "2019-02-16",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Paint-Jam",
        "website": "https://itch.io/jam/paint-jam-2019/rate/372107",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=larryTheSheepsMuseumInvasion",
            "https://zirk.itch.io/larry-the-sheep-s-museum-invasion"
        ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 33,
            "scores": {
                "Mechanics": {
                    "rank": 1,
                    "score": 3.750
                },
                "Sound": {
                    "rank": 3,
                    "score": 3.583
                },
                "Fun": {
                    "rank": 5,
                    "score": 3.417
                },
                "Overall": {
                    "rank": 6,
                    "score": 3.417
                },
                "Art": {
                    "rank": 16,
                    "score": 2.833
                }
            }
        }
    },
    {
        "name": "KibouNoImouto",
        "fullName": "希望の妹",
        "location": "Online",
        "theme": "Intimacy",
        "event": "NSFW Valentines",
        "date": "2019-02-08",
        "duration": 72,
        "github": "https://github.com/Xwilarg/NSFWValentinesJam",
        "website": "https://itch.io/jam/nsfw-valentines/rate/369107",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=kibouNoImouto",
            "https://zirk.itch.io/kibou-no-imouto"
        ],
        "postModification": null,
        "nsfw": true,
        "rating": null
    },
    {
        "name": "NewSensations",
        "fullName": "New Sensations",
        "location": "Online",
        "theme": "What home means to you",
        "event": "Global Game Jam 2019",
        "date": "2019-01-25",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Global-Game-Jam-2019",
        "website": "https://globalgamejam.org/2019/games/new-sensations",
        "webgl": [ "https://gamejam.zirk.eu/Unreal/index.html" ],
        "postModification": null,
        "nsfw": false,
        "rating": null
    },
    {
        "name": "JovialJudgement",
        "fullName": "Jovial Judgement",
        "location": "Online",
        "theme": "You're on the naughty list",
        "event": "Christmas Jam 2018",
        "date": "2018-12-22",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Jovial-Judgement",
        "website": "https://itch.io/jam/christmas-jam-2018/rate/349359",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=jovialJudgement",
            "https://zirk.itch.io/jovial-jugement"
        ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 38,
            "scores": {
                "Innovation": {
                    "rank": 7,
                    "score": 3.400
                },
                "Sound": {
                    "rank": 13,
                    "score": 3.100
                },
                "Graphics": {
                    "rank": 14,
                    "score": 3.500
                },
                "Overall": {
                    "rank": 26,
                    "score": 2.800
                },
                "Fun": {
                    "rank": 27,
                    "score": 2.700
                }
            }
        }
    },
    {
        "name": "ToFSDfSftPDRRoDwL",
        "fullName": "Tower of fated shoulders destined for survival from the Pouch destroyer rainbow road of doom with leeches",
        "location": "Online",
        "theme": "Running out of Spaces",
        "event": "Ludum Dare 42",
        "date": "2018-08-11",
        "duration": 72,
        "github": "https://github.com/Xwilarg/Ludum-Dare-42",
        "website": "https://ldjam.com/events/ludum-dare/42/tofdsdfsftpdrrodwl",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=toFSDfSftPDRRoDwL" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 2013,
            "scores": {
                "Overall": {
                    "rank": 456,
                    "score": 3.515
                },
                "Fun": {
                    "rank": 416,
                    "score": 3.409
                },
                "Innovation": {
                    "rank": 624,
                    "score": 3.141
                },
                "Theme": {
                    "rank": 693,
                    "score": 3.379
                },
                "Graphics": {
                    "rank": 335,
                    "score": 3.797
                },
                "Humor": {
                    "rank": 138,
                    "score": 3.597
                },
                "Mood": {
                    "rank": 556,
                    "score": 3.167
                }
            }
        }
    },
    {
        "name": "Manchaud",
        "fullName": "Manchaud",
        "location": "Paris, France",
        "theme": "Green Game",
        "event": "Sogeti Green X Games",
        "date": "2018-06-15",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Manchaud",
        "website": null, // https://projets-greenxgames.bemyapp.com/#/projects/5b242e050fcf4a0003b0eaf8
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=manchaud" ],
        "postModification": null,
        "nsfw": false,
        "rating": null
    },
    {
        "name": "HadipoRun",
        "fullName": "Hadipo Run",
        "location": "Le Kremlin-Bicêtre, France",
        "theme": "Transmission",
        "event": "Global Game Jam 2018",
        "date": "2018-01-26",
        "duration": 48,
        "github": "https://github.com/Xwilarg/HadipoRun",
        "website": "https://globalgamejam.org/2018/games/hadiporun",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=hadipoRun" ],
        "postModification": "Fix data files not being found making the player unable to pick items",
        "nsfw": false,
        "rating": null
    },
    {
        "name": "PowerDown",
        "fullName": "PowerDown",
        "location": "Online",
        "theme": "The more you have, the worse it is",
        "event": "Ludum Dare 40",
        "date": "2017-12-02",
        "duration": 72,
        "github": "https://github.com/Xwilarg/LudumDare40",
        "website": "https://ldjam.com/events/ludum-dare/40/powerdown",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=powerDown" ],
        "postModification": null,
        "nsfw": false,
        "rating": {
            "entries": 1846,
            "scores": {
                "Overall": {
                    "rank": null,
                    "score": 2.938
                },
                "Fun": {
                    "rank": null,
                    "score": 2.813
                },
                "Innovation": {
                    "rank": null,
                    "score": 3.563
                },
                "Theme": {
                    "rank": null,
                    "score": 3.688
                },
                "Humor": {
                    "rank": null,
                    "score": 2.625
                }
            }
        }
    },
    {
        "name": "TalesOfLayinskia",
        "fullName": "Tales of Layinskia",
        "location": "Le Kremlin-Bicêtre, France",
        "theme": "Waves",
        "event": "Global Game Jam 2017",
        "date": "2017-01-20",
        "duration": 48,
        "github": null,
        "website": "https://globalgamejam.org/2017/games/tales-layinskia",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=talesOfLayinskia" ],
        "postModification": null,
        "nsfw": false,
        "rating": null
    },
    {
        "name": "Vespias",
        "fullName": "Vespias: Battle for the Pentacle",
        "location": "Online",
        "theme": "One Room",
        "event": "Ludum Dare 37",
        "date": "2016-12-09",
        "duration": 72,
        "github": "https://github.com/Hinara/LudumDare",
        "website": "https://web.archive.org/web/20210227130840/http://ludumdare.com/compo/ludum-dare-37/?action=preview&uid=123799",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=vespias" ],
        "postModification": "Fix bug with layers making player appears under the ground",
        "nsfw": false,
        "rating": {
            "entries": 1489,
            "scores": {
                "Innovation": {
                    "rank": 527,
                    "score": 2.96
                },
                "Audio": {
                    "rank": 547,
                    "score": 2.00
                },
                "Fun": {
                    "rank": 765,
                    "score": 2.58
                },
                "Overall": {
                    "rank": 771,
                    "score": 2.83
                },
                "Theme": {
                    "rank": 778,
                    "score": 2.79
                },
                "Mood": {
                    "rank": 817,
                    "score": 2.22
                }
            }
        }
    }
];

// Wait for window to load so jamDisplay isn't null
function initGamejam() {
    let jamDisplay = document.getElementById("jamDisplay");
    
    let html = "";
    // Display all jams
    for (let index in gamejams)
    {
        let jam = gamejams[index];

        // Display buttons under the jam preview
        let buttons = '<span class="button-container">';

        // Links where the user can play the jam (WebGL)
        for (let webgl in jam.webgl) {
            let sourceText = "";
            if (jam.webgl.length > 1) {
                sourceText = " Source " + (parseInt(webgl) + 1);
            }
            if (jam.nsfw) {
                buttons += '<a class="button disabled">Play (WebGL' + sourceText + ')</a>';
            } else {
                buttons += '<a class="button colorful" href="' + jam.webgl[webgl] + '">Play (WebGL' + sourceText + ')</a>';
            }
        }
        buttons += '</span>';
        if (!jam.nsfw) { // Only display source and website if the jam is SFW
            buttons += '<span class="button-container">';
            if (jam.github !== null) {
                buttons += '<a class="button neutral" href="' + jam.github + '">Source Code</a>';
            }
            if (jam.website !== null) {
                buttons += '<a class="button neutral" href="' + jam.website + '">Jam Website</a>';
            }
            buttons += "</span>"
        }

        let jamInfo = "";
        if (jam.rating !== null && jam.rating.scores != null && jam.rating.scores["Overall"].rank != null) {
            jamInfo = `Ranked ${jam.rating.scores["Overall"].rank} out of ${jam.rating.entries}`;
        }

        html += `
            <span id="jam-${jam.name}">
                <span class="jamInfoText">
                    <p class="jamTitle">${jam.event} - ${jam.duration} hours<br/>${(jam.theme != null ? jam.theme : "")}</p>
                    <p class="jamInfo">${jamInfo}</p>
                </span>
                <img id="jamimg-${jam.name}" src="img/gamejam/${jam.name}.jpg"></img>
                <br/>
                ${buttons}
            </span>
        `;
    }
    jamDisplay.innerHTML = html;

    // Add mouse over events
    for (let index in gamejams)
    {
        let jam = gamejams[index];

        let span = document.getElementById("jam-" + jam.name);
        let img = document.getElementById("jamimg-" + jam.name)
        span.addEventListener("mouseover", function() {
            img.src = "";
            img.style.backgroundImage = "url(img/gamejam/" + jam.name + ".gif)";
        }, false);
        span.addEventListener("mouseout", function() {
            img.src = "img/gamejam/" + jam.name + ".jpg";
            img.style.backgroundImage = "";
        }, false);
    }
}