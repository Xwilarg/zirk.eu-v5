let gamejams = [
    {
        "name": "",
        "fullName": "",
        "location": "Online",
        "theme": "Horny Games",
        "event": "Strawberry Jam 6",
        "date": "2022-02-01",
        "duration": 672,
        "github": null,
        "website": null,
        "webgl": [],
        "postModification": null,
        "nsfw": true
    },
    {
        "name": "Catchmeleon",
        "fullName": "Catchmeleon",
        "location": "Online",
        "theme": "Shapes and Colors",
        "event": "One Hour Game Jam",
        "date": "2022-01-29",
        "duration": 1,
        "github": "https://github.com/Xwilarg/OneHourGameJam353",
        "website": "https://onehourgamejam.com/?page=jam&jam=353",
        "webgl": [ "https://gamejam.zirk.eu/Catchmeleon/index.html" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "GlobeTrotter",
        "fullName": "GlobeTrotter",
        "location": "Online",
        "theme": "Globe",
        "event": "Bean Jam #23",
        "date": "2022-01-23",
        "duration": 3,
        "github": "https://github.com/Xwilarg/BeanJam23",
        "website": "https://itch.io/jam/bean-jam-23/rate/1365339",
        "webgl": [ "https://gamejam.zirk.eu/GlobeTrotter/index.html", "https://zirk.itch.io/globetrotter" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "Chickens",
        "fullName": "Курятник",
        "location": "Online",
        "theme": "Жестокость",
        "event": "Crystal Gamejam",
        "date": "2022-01-15",
        "duration": 5,
        "github": "https://github.com/Xwilarg/Crystal-Gamejam",
        "website": "https://itch.io/jam/crystal-gamejam/rate/1354761",
        "webgl": [ "https://gamejam.zirk.eu/%D0%9A%D1%83%D1%80%D1%8F%D1%82%D0%BD%D0%B8%D0%BA/index.html" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "EscapeFromSpace",
        "fullName": "Escape from Space",
        "location": "Online",
        "theme": "Unstable",
        "event": "Ludum Dare 49",
        "date": "2021-10-02",
        "duration": 72,
        "github": "https://github.com/BionomeeX/LudumDare49",
        "website": "https://ldjam.com/events/ludum-dare/49/escape-from-space",
        "webgl": [ "https://gamejam.zirk.eu/EscapeFromSpace/index.html" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "TheRollingDices",
        "fullName": "The Rolling Dices - Paint It, Red",
        "location": "Online",
        "theme": "Alea jacta est",
        "event": "TUFRJAM2",
        "date": "2021-04-30",
        "duration": 48,
        "github": "https://github.com/Xwilarg/TUFRJAM2",
        "website": "https://zirk.itch.io/the-rolling-dices-paint-it-red",
        "webgl": [ "https://gamejam.zirk.eu/TheRollingDices/index.html" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "Nautilus",
        "fullName": "Nautilus",
        "location": "Online",
        "theme": "Deeper and Deeper",
        "event": "Ludum Dare 48",
        "date": "2021-04-24",
        "duration": 72,
        "github": "https://github.com/BionomeeX/LudumDare48",
        "website": "https://ldjam.com/events/ludum-dare/48/nautilus-1",
        "webgl": [ "https://gamejam.zirk.eu/Nautilus/index.html" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "RRR",
        "fullName": "R.R.R. (Remove Reuse Repair)",
        "location": "Tokyo, Japan",
        "theme": "Repair",
        "event": "Global Game Jam 2020",
        "date": "2020-01-31",
        "duration": 48,
        "github": "https://github.com/TORISOUP/GGJ2020_Akiba_team2",
        "website": "https://globalgamejam.org/2020/games/rrr-remove-reuse-repair-0",
        "webgl": [ "https://unityroom.com/games/ggj2020_akibaha_team2_rrr" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "DungeonMaster",
        "fullName": "Dungeon Master",
        "location": "Online",
        "theme": "You are the final boss",
        "event": "42Jam #2",
        "date": "2019-11-30",
        "duration": 48,
        "github": "https://github.com/Xwilarg/42Jam/",
        "website": "https://itch.io/jam/42jam-2/rate/527252",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=dungeonMaster",
            "https://zirk.itch.io/dungeon-master"
        ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "LarryTheSheepsMuseumInvasion",
        "fullName": "Larry: The Sheep\'s Museum Invasion",
        "location": "Online",
        "theme": "Starry Night",
        "event": "Paint Jam",
        "date": "2019-02-16",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Paint-Jam",
        "website": "https://itch.io/jam/paint-jam-2019/rate/372107",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=larryTheSheepsMuseumInvasion",
            "https://zirk.itch.io/larry-the-sheep-s-museum-invasion"
        ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "KibouNoImouto",
        "fullName": "希望の妹",
        "location": "Online",
        "theme": "Intimacy",
        "event": "NSFW Valentines",
        "date": "2019-02-08",
        "duration": 72,
        "github": "https://github.com/Xwilarg/NSFWValentinesJam",
        "website": "https://itch.io/jam/nsfw-valentines/rate/369107",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=kibouNoImouto",
            "https://zirk.itch.io/kibou-no-imouto"
        ],
        "postModification": null,
        "nsfw": true
    },
    {
        "name": "NewSensations",
        "fullName": "New Sensations",
        "location": "Online",
        "theme": "What home means to you",
        "event": "Global Game Jam 2019",
        "date": "2019-01-25",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Global-Game-Jam-2019",
        "website": "https://globalgamejam.org/2019/games/new-sensations",
        "webgl": [ "https://gamejam.zirk.eu/Unreal/index.html" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "JovialJudgement",
        "fullName": "Jovial Judgement",
        "location": "Online",
        "theme": "You're on the naughty list",
        "event": "Christmas Jam 2018",
        "date": "2018-12-22",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Jovial-Judgement",
        "website": "https://itch.io/jam/christmas-jam-2018/rate/349359",
        "webgl": [
            "https://gamejam.zirk.eu/Unity/index.html?jamName=jovialJudgement",
            "https://zirk.itch.io/jovial-jugement"
        ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "ToFSDfSftPDRRoDwL",
        "fullName": "Tower of fated shoulders destined for survival from the Pouch destroyer rainbow road of doom with leeches",
        "location": "Online",
        "theme": "Running out of Spaces",
        "event": "Ludum Dare 42",
        "date": "2018-08-11",
        "duration": 72,
        "github": "https://github.com/Xwilarg/Ludum-Dare-42",
        "website": "https://ldjam.com/events/ludum-dare/42/tofdsdfsftpdrrodwl",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=toFSDfSftPDRRoDwL" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "Manchaud",
        "fullName": "Manchaud",
        "location": "Paris, France",
        "theme": "Green Game",
        "event": "Sogeti Green X Games",
        "date": "2018-06-15",
        "duration": 48,
        "github": "https://github.com/Xwilarg/Manchaud",
        "website": null, // https://projets-greenxgames.bemyapp.com/#/projects/5b242e050fcf4a0003b0eaf8
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=manchaud" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "HadipoRun",
        "fullName": "Hadipo Run",
        "location": "Le Kremlin-Bicêtre, France",
        "theme": "Transmission",
        "event": "Global Game Jam 2018",
        "date": "2018-01-26",
        "duration": 48,
        "github": "https://github.com/Xwilarg/HadipoRun",
        "website": "https://globalgamejam.org/2018/games/hadiporun",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=hadipoRun" ],
        "postModification": "Fix data files not being found making the player unable to pick items",
        "nsfw": false
    },
    {
        "name": "PowerDown",
        "fullName": "PowerDown",
        "location": "Online",
        "theme": "The more you have, the worse it is",
        "event": "Ludum Dare 40",
        "date": "2017-12-02",
        "duration": 72,
        "github": "https://github.com/Xwilarg/LudumDare40",
        "website": "https://ldjam.com/events/ludum-dare/40/powerdown",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=powerDown" ],
        "postModification": null,
        "nsfw": false,
    },
    {
        "name": "TalesOfLayinskia",
        "fullName": "Tales of Layinskia",
        "location": "Le Kremlin-Bicêtre, France",
        "theme": "Waves",
        "event": "Global Game Jam 2017",
        "date": "2017-01-20",
        "duration": 48,
        "github": null,
        "website": "https://globalgamejam.org/2017/games/tales-layinskia",
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=talesOfLayinskia" ],
        "postModification": null,
        "nsfw": false
    },
    {
        "name": "Vespias",
        "fullName": "Vespias: Battle for the Pentacle",
        "location": "Online",
        "theme": "One Room",
        "event": "Ludum Dare 37",
        "date": "2016-12-09",
        "duration": 72,
        "github": "https://github.com/Hinara/LudumDare",
        "website": null, // http://ludumdare.com/compo/ludum-dare-37/?action=preview&uid=123799
        "webgl": [ "https://gamejam.zirk.eu/Unity/index.html?jamName=vespias" ],
        "postModification": "Fix bug with layers making player appears under the ground",
        "nsfw": false
    }
];

// Wait for window to load so jamDisplay isn't null
function initGamejam() {
    let jamDisplay = document.getElementById("jamDisplay");
    
    let html = "";
    // Display all jams
    for (let index in gamejams)
    {
        let jam = gamejams[index];

        // Display buttons under the jam preview
        let buttons = '<span class="button-container">';

        // Links where the user can play the jam (WebGL)
        for (let webgl in jam.webgl) {
            let sourceText = "";
            if (jam.webgl.length > 1) {
                sourceText = " Source " + (parseInt(webgl) + 1);
            }
            if (jam.nsfw) {
                buttons += '<a class="button disabled">Play (WebGL' + sourceText + ')</a>';
            } else {
                buttons += '<a class="button colorful" href="' + jam.webgl[webgl] + '">Play (WebGL' + sourceText + ')</a>';
            }
        }
        buttons += '</span>';
        if (!jam.nsfw) { // Only display source and website if the jam is SFW
            buttons += '<span class="button-container">';
            if (jam.github !== null) {
                buttons += '<a class="button neutral" href="' + jam.github + '">Source Code</a>';
            }
            if (jam.website !== null) {
                buttons += '<a class="button neutral" href="' + jam.website + '">Jam Website</a>';
            }
            buttons += "</span>"
        }

        html += `
            <span id="jam-${jam.name}">
                <p class="jamTitle">${jam.event} - ${jam.duration} hours<br/>${jam.theme}</p>
                <img id="jamimg-${jam.name}" src="img/gamejam/${jam.name}.jpg"></img>
                <br/>
                ${buttons}
            </span>
        `;
    }
    jamDisplay.innerHTML = html;

    // Add mouse over events
    for (let index in gamejams)
    {
        let jam = gamejams[index];

        let span = document.getElementById("jam-" + jam.name);
        let img = document.getElementById("jamimg-" + jam.name)
        span.addEventListener("mouseover", function() {
            img.src = "";
            img.style.backgroundImage = "url(img/gamejam/" + jam.name + ".gif)";
        }, false);
        span.addEventListener("mouseout", function() {
            img.src = "img/gamejam/" + jam.name + ".jpg";
            img.style.backgroundImage = "";
        }, false);
    }
}